<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=6.7.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/qy32.jpg?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/qy32.jpg?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/qy16.jpg?v=6.7.0">


  <link rel="mask-icon" href="/images/qy32.jpg?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.7.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="成都之歌 郭暮云 两个月了。 弱小的犰狳，仅存的口粮也被青色山羊抢走。她们只能祈祷，只能写诗，勾勒出这个世代的黑暗轮廓，仰望那个国度的无比光明。 我所能做的，可能是再为犰狳唱一首歌。如此行，为的是在这震耳欲聋的沉默中，敲起铁皮鼓，在不让说话的地方，唱出声来。 好让我们不至于忘了他们。 若是伴着鼓声与歌声，能多少为犰狳们积攒些冬粮，也是好的。 我一唱这歌，就想起成都，和成都的他。 那年我还是个改黑（">
<meta name="keywords" content="王怡,郭暮云">
<meta property="og:type" content="article">
<meta property="og:title" content="成都之歌">
<meta property="og:url" content="https://qy129.me/2019/cjtscp0lu006tozs6ac53klag/index.html">
<meta property="og:site_name" content="秋雨圣约教会129代祷">
<meta property="og:description" content="成都之歌 郭暮云 两个月了。 弱小的犰狳，仅存的口粮也被青色山羊抢走。她们只能祈祷，只能写诗，勾勒出这个世代的黑暗轮廓，仰望那个国度的无比光明。 我所能做的，可能是再为犰狳唱一首歌。如此行，为的是在这震耳欲聋的沉默中，敲起铁皮鼓，在不让说话的地方，唱出声来。 好让我们不至于忘了他们。 若是伴着鼓声与歌声，能多少为犰狳们积攒些冬粮，也是好的。 我一唱这歌，就想起成都，和成都的他。 那年我还是个改黑（">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-02-26T14:15:51.464Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="成都之歌">
<meta name="twitter:description" content="成都之歌 郭暮云 两个月了。 弱小的犰狳，仅存的口粮也被青色山羊抢走。她们只能祈祷，只能写诗，勾勒出这个世代的黑暗轮廓，仰望那个国度的无比光明。 我所能做的，可能是再为犰狳唱一首歌。如此行，为的是在这震耳欲聋的沉默中，敲起铁皮鼓，在不让说话的地方，唱出声来。 好让我们不至于忘了他们。 若是伴着鼓声与歌声，能多少为犰狳们积攒些冬粮，也是好的。 我一唱这歌，就想起成都，和成都的他。 那年我还是个改黑（">






  <link rel="canonical" href="https://qy129.me/2019/cjtscp0lu006tozs6ac53klag/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>成都之歌 | 秋雨圣约教会129代祷</title>
  




  <script async src="//www.googletagmanager.com/gtag/js?id=UA-135028371-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-135028371-1');
  </script>









  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3878391969742689",
          enable_page_level_ads: true
     });
</script>
  <!--google adsense ends-->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">秋雨圣约教会129代祷</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">关注成都秋雨圣约归正教会12.9教案，为肢体代祷</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://qy129.me/2019/cjtscp0lu006tozs6ac53klag/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="秋雨圣约129代祷">
      <meta itemprop="description" content="2018年12月9日，成都秋雨圣约归正教会，遭到大规模打压和抓捕。超过百人次被抓捕，目前王怡牧师等核心同工仍然被关押。本站关注秋雨圣约129教案，并发布代祷信息。">
      <meta itemprop="image" content="/images/qy.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="秋雨圣约教会129代祷">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">成都之歌

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-09 00:00:00" itemprop="dateCreated datePublished" datetime="2019-02-09T00:00:00+08:00">2019-02-09</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-02-26 22:15:51" itemprop="dateModified" datetime="2019-02-26T22:15:51+08:00">2019-02-26</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/发声/" itemprop="url" rel="index"><span itemprop="name">发声</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><strong>成都之歌</strong></p>
<p>郭暮云</p>
<p>两个月了。</p>
<p>弱小的犰狳，仅存的口粮也被青色山羊抢走。她们只能祈祷，只能写诗，勾勒出这个世代的黑暗轮廓，仰望那个国度的无比光明。</p>
<p>我所能做的，可能是再为犰狳唱一首歌。如此行，为的是在这震耳欲聋的沉默中，敲起铁皮鼓，在不让说话的地方，唱出声来。</p>
<p>好让我们不至于忘了他们。</p>
<p>若是伴着鼓声与歌声，能多少为犰狳们积攒些冬粮，也是好的。</p>
<p>我一唱这歌，就想起成都，和成都的他。</p>
<p>那年我还是个改黑（专黑改革宗）。但在成都，他伸出温暖的胖手，接纳了我。所以，如果说凯波尔让我对改革宗路转粉，那么就是他和犰狳让我完成了更早的黑转路。</p>
<p>在我将信将疑的时候，他带我走进了江信大厦。</p>
<p>所以如今我不怪那些怡黑。我知道他们不过是处于七八年前我的光景。他们没有见过他，没有进过大厦。</p>
<p>只是如今，他们想见也见不到，想进也进不去了。</p>
<p>几年来，我以他为师，以他为兄，以他为友。如今我也见不到他了。我只好祈祷，唱歌。</p>
<p>因为我无法给一个诗人写诗。</p>
<p>这首《成都之歌》原本的词里就有：</p>
<blockquote>
<p>陪我在成都的街头走一走</p>
<p>直到所有的灯都熄灭了也不停留</p>
</blockquote>
<p>我翻他的诗集，赫然看到他在1997年就写过类似的句子：</p>
<blockquote>
<p>圣灯</p>
<p>……</p>
<p>天上的神呵。你在黑暗中穿行</p>
<p>那盏灯笼照亮了我们的心脏</p>
<p>我们仰望蓝天</p>
<p>将天国的灵魂称为太阳</p>
<p>并象飞蛾，渴望烈火中的清凉</p>
</blockquote>
<p>所以，灯不会灭的。如果灭了，他就会化身为灯，点燃自己，成为夜空中发光的星。</p>
<p>我不知道天上的神要如何行事。最近我看到，曾经的石油政法王的儿媳在说出真话，在祈祷自由。那一刻——就像一个姊妹所说——我仿佛看到了毓贤的女儿。</p>
<p>毓贤是山西巡抚，在拳乱时亲手杀了许多的宣教士和信徒。但他后来被慈禧所斩，向各国交待。辛亥时，愤怒的汉人到处杀满人，毓贤的女儿仓皇之中求助教会，并被教会保护起来。</p>
<p>我的意思是，我相信神有奇妙作为。弱小而坚强的犰狳啊，有好些“属灵人”说你们为之而战的不是福音。山羊们在两个月前的任拳日动手，或许也在印证这说法。但退一万步来说，那权利也是普遍恩典，是应然的（神赐给人），却不是当然的（需要争取）。而你们为福音，为恩典，去争取了。日光照好人，也照永康，他的儿媳甚至他本人若能信主，当然也是好的无比的事，他们在天上的使者同样会欢呼。</p>
<p>所以，胖牧自己所做的，以及他教导你们所做的，我知道，我们都知道，是为福音，为教会，为着神的荣耀。</p>
<p>所以不要黯然神伤，要感谢爱你们的主。</p>
<p>我不知道神要如何具体使用你们。但我相信祂正在使用你们。或许十年、百年之后我们才能知道祂的深意。</p>
<p>就像现今的我们，知道毓贤和慈禧的事。</p>
<p>所以，不要怕，只要信。愿你们面对最坏的前景，坦然自若。身处混乱的当下，守素安常。常常喜乐，纵然带着眼泪。不住感恩，即便身心俱疲。</p>
<p>我们一起数算上帝的恩典与赏赐吧，省察上帝给我们各人的责任与呼召，就知道该做什么，能做什么。能做的，就去做，趁着白日还可以做工。</p>
<p>在这座飘雪的小城里，我能做的，是继续牧养会众，继续为你们祈祷，偶尔讲讲课，为我们寒微的教育事工筹措粮饷。偶尔唱首歌，为你们在寒冷与黑暗中，送去一丝微光。</p>
<p>你们一定也有很多该做的、能做的。</p>
<p>所以让我们拉住基督的衣袖，让孩子们挽住我们的衣袖，在每一个成都走一走，直到所有的灯都熄灭也不停留，直到走到这卑微又荣耀之路的尽头。</p>
<p>愿你们平安，神所爱的百姓，神的孩子。</p>
<p>墙外：</p>
<iframe width="50%" height="100" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/572479035&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true"></iframe>

<p>墙内：<br><a href="http://song.space/9v29g3" target="_blank" rel="noopener">http://song.space/9v29g3</a></p>
<pre><code>暮云：

让我掉下眼泪的 不是秋天的酒

让我依依不舍的 不止雨的温柔

余路还要走多久 谁能攥我的手

让我感到为难的 是挣扎的自由

分别是在十二月 回忆是思念的愁

深秋冰冷的雨滴 敲打着我额头

在那座飘雪的小城里 我从未忘记你

成都 带不走的 只有你

陪我在成都的街头走一走 喔哦...

直到所有的灯都熄灭了也不停留

你曾伸出你的双手 我就把手拿出裤兜

走到太升北路尽头 走进大厦的门口


嘉雯：

分别是在十二月 回忆是思念的愁

深秋冰冷的雨滴 敲打着我额头

在这座飘雪的小城里 我从未忘记你

成都 带不走的 只有你



陪你在成都的街头走一走 喔哦...

直到所有的灯都熄灭了也不停留

你会挽着我的衣袖 我会把手拿出裤兜

走到太升北路的尽头   坐在大厦的门口


暮云：

陪我在成都的街头走一走 喔哦...

直到所有的灯都熄灭了也不停留


合唱：

我们在每一个成都走一走 喔哦...

直到所有的灯都熄灭了也不停留

祂会挽着我的衣袖 我会握紧祂的双手

走到这条路的尽头 走进那城的门口


雯：

我们在每一个成都走一走 喔哦...

直到所有的灯都熄灭了也不停留



云： 

我们在每一个成都走一走 喔哦...

直到所有的灯都熄灭了也不停留
</code></pre>
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/王怡/" rel="tag"># 王怡</a>
          
            <a href="/tags/郭暮云/" rel="tag"># 郭暮云</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/cjtscp0ks0051ozs67f2iduy6/" rel="next" title="为一个诗人呼吁">
                <i class="fa fa-chevron-left"></i> 为一个诗人呼吁
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/cjtscp0nt009xozs6xowyei8s/" rel="prev" title="那个管会堂的睚鲁">
                那个管会堂的睚鲁 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/qy.jpg" alt="秋雨圣约129代祷">
            
              <p class="site-author-name" itemprop="name">秋雨圣约129代祷</p>
              <p class="site-description motion-element" itemprop="description">2018年12月9日，成都秋雨圣约归正教会，遭到大规模打压和抓捕。超过百人次被抓捕，目前王怡牧师等核心同工仍然被关押。本站关注秋雨圣约129教案，并发布代祷信息。</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">111</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">16</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">39</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">秋雨圣约129代祷</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v6.7.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=6.7.0"></script>



  
  <script src="/js/src/scrollspy.js?v=6.7.0"></script>
<script src="/js/src/post-details.js?v=6.7.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  


  


  

  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
